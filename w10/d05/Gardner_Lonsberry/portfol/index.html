<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Fullscreen Video Slideshow with BigVideo.js</title>
  <meta name="description" content="Fullscreen Video Slideshow with BigVideo.js - The jQuery Plugin for Big Background Video" />
  <meta name="author" content="John Polacek for Codrops" />
  <meta name="keywords" content="fullscreen, video, slideshow, bigvideo.js, jquery, background, images" />
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="../favicon.ico"> 
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700,300' rel='stylesheet' type='text/css' /> -->
  <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:100,300,400|Open+Sans:300italic,300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/bigvideo.css">
  <link rel="stylesheet" href="css/animate.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <script src="js/modernizr-2.5.3.min.js"></script>
    <!--[if lte IE 8]>
    <style>
        /* Rotation of the arrow element for IE < 9 */
        .next-icon { /* IE Matrix Calculator - http: //www.boogdesign.com/examples/transforms/matrix-calculator.html */;
            -ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=-0.70710678, M21=0.70710678, M22=0.70710678,sizingMethod='auto expand')";
            filter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=-0.70710678, M21=0.70710678, M22=0.70710678,sizingMethod='auto expand');
        }
    </style>
    <![endif]-->
  </head>
  <body>

    <!-- Codrops top bar -->
    <div class="codrops-top">
      <!-- <a href="http://tympanus.net/Tutorials/CSS3ButtonSwitches/">
        <strong>About Me</strong>
      </a> -->
      <div class="clr"></div>
    </div><!--/ Codrops top bar -->
<!--     <header>
        <h1>Fullscreen Video Slideshow <span>with BigVideo.js</span></h1>
        <p>The videos in this demo are from <a href="http://beachfrontprod.blogspot.com" target="_blank">Beachfront B-Roll</a>, a great place to download unique HD stock video footage and animated backgrounds for any production purpose (for free!).</p>
        <p><small>A demo for</small> <a href="http://dfcb.github.com/BigVideo.js/" target="_blank">BigVideo.js</a> <small>by <a href="http://twitter.com/johnpolacek" target="_blank" rel="author">@johnpolacek</a></small></p>
    </header>
 -->
  <div class="wrapper">
    <div class="screen" id="screen-1" data-video="vid/gardner.mp4">
      <img src="img/gardner.jpg" class="big-image" />
      <!-- <h1 class="video-title">My Resume</h1> -->
    </div>
  </div>
  
    <div id="quick-bio" class="animated fadeInUp">Gardner Lonsberry</div>
    <div id="tagline" class="animated fadeInUp">web developer | tinkerer | forward thinker</div>
    
    <div id="icons-container" class="animated fadeInUp">
      
        <a href="http://www.twitter.com/glonsberry"><img src="https://s3-us-west-2.amazonaws.com/gardnerportfolio/twitter.png" alt="twitter"> </a>
      
        <a href="http://www.github.com/glonsberry"><img src="https://s3-us-west-2.amazonaws.com/gardnerportfolio/github.png"> </a>
      
        <a href="http://www.linkedin.com/in/glonsberry/"><img src="https://s3-us-west-2.amazonaws.com/gardnerportfolio/linkedin.png"> </a>
          
        <a href="mailto:gardnerlonsberry@gmail.com"><img src="https://s3-us-west-2.amazonaws.com/gardnerportfolio/mail.png" alt="mail"></a>
      
    
  </div>
  <!-- BigVideo Dependencies -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/jquery-1.8.1.min.js"><\/script>')</script>
  <script src="js/jquery-ui-1.8.22.custom.min.js"></script>
  <script src="js/jquery.imagesloaded.min.js"></script>
  <script src="http://vjs.zencdn.net/c/video.js"></script>

  <!-- BigVideo -->
  <script src="js/bigvideo.js"></script>

  <!-- Tutorial Demo -->
  <script src="js/jquery.transit.min.js"></script>
  <script>
  $(function() {

            // Use Modernizr to detect for touch devices, 
            // which don't support autoplay and may have less bandwidth, 
            // so just give them the poster images instead
            var screenIndex = 1,
            numScreens = $('.screen').length,
            isTransitioning = false,
            transitionDur = 1000,
            BV,
            videoPlayer,
            isTouch = Modernizr.touch,
            $bigImage = $('.big-image'),
            $window = $(window);
            
            if (!isTouch) {
                // initialize BigVideo
                BV = new $.BigVideo({forceAutoplay:isTouch});
                BV.init();
                showVideo();
                
                BV.getPlayer().addEvent('loadeddata', function() {
                  onVideoLoaded();
                });

                // adjust image positioning so it lines up with video
                $bigImage
                .css('position','relative')
                .imagesLoaded(adjustImagePositioning);
                // and on window resize
                $window.on('resize', adjustImagePositioning);
              }

            // Next button click goes to next div
            $('#next-btn').on('click', function(e) {
              e.preventDefault();
              if (!isTransitioning) {
                next();
              }
            });

            function showVideo() {
              BV.show($('#screen-'+screenIndex).attr('data-video'),{ambient:true});
            }

            function next() {
              isTransitioning = true;

                // update video index, reset image opacity if starting over
                if (screenIndex === numScreens) {
                  $bigImage.css('opacity',1);
                  screenIndex = 1;
                } else {
                  screenIndex++;
                }
                
                if (!isTouch) {
                  $('#big-video-wrap').transit({'left':'-100%'},transitionDur)
                }

                (Modernizr.csstransitions)?
                $('.wrapper').transit(
                  {'left':'-'+(100*(screenIndex-1))+'%'},
                  transitionDur,
                  onTransitionComplete):
                onTransitionComplete();
              }

              function onVideoLoaded() {
                $('#screen-'+screenIndex).find('.big-image').transit({'opacity':0},500)
              }

              function onTransitionComplete() {
                isTransitioning = false;
                if (!isTouch) {
                  $('#big-video-wrap').css('left',0);
                  showVideo();
                }
              }

              function adjustImagePositioning() {
                $bigImage.each(function(){
                  var $img = $(this),
                  img = new Image();

                  img.src = $img.attr('src');

                  var windowWidth = $window.width(),
                  windowHeight = $window.height(),
                  r_w = windowHeight / windowWidth,
                  i_w = img.width,
                  i_h = img.height,
                  r_i = i_h / i_w,
                  new_w, new_h, new_left, new_top;

                  if( r_w > r_i ) {
                    new_h   = windowHeight;
                    new_w   = windowHeight / r_i;
                  }
                  else {
                    new_h   = windowWidth * r_i;
                    new_w   = windowWidth;
                  }

                  $img.css({
                    width   : new_w,
                    height  : new_h,
                    left    : ( windowWidth - new_w ) / 2,
                    top     : ( windowHeight - new_h ) / 2
                  })

                });

              }
            });
</script>
</body>
</html>