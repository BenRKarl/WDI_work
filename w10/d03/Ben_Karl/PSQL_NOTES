>psql

#\c getenberg

#\d

---> How many books did the following author write? Name TOTALLY AT RANDOM: "Aldrich, Thomas Bailey"
# SELECT id FROM authors WHERE name='Aldrich, Thomas Bailey';
# SELECT COUNT(*) FROM books WHERE author_id='2830';

---> Total number of words written in the following book? "Secret Societies And Subversive Movements"
# SELECT id FROM books WHERE title='Secret Societies And Subversive Movements';
# SELECT SUM(count) FROM word_counts WHERE book_id='7720';

---> Show the books written by the following authors: Wells, H. G. (Herbert George), Rabelais, François, Butler, Ellis Parker, Ovid, Hall, Tom
# SELECT title FROM books WHERE author_id IN (SELECT id FROM authors WHERE name IN ('Wells, H. G. (Herbert George)', 'Rabelais, François', 'Butler, Ellis Parker', 'Ovid', 'Hall, Tom'));

---> Average amount of time the word "love" was used, among books where it was used
# SELECT AVG(count) FROM word_counts WHERE word='love';


---> USING INNER JOIN


---> How many books did the following author write? Name TOTALLY AT RANDOM: "Aldrich, Thomas Bailey"
# SELECT COUNT(b.*) FROM books as b
INNER JOIN authors AS a ON a.id=b.author_id
WHERE a.name LIKE 'Aldrich, Thomas Bailey';

---> Total number of words written in the following book? "Secret Societies And Subversive Movements"
# SELECT SUM(w.count) FROM word_counts AS w
INNER JOIN books AS b ON w.book_id=b.id
WHERE b.title LIKE 'Secret Societies And Subversive Movements';

---> Show the books written by the following authors: Wells, H. G. (Herbert George), Rabelais, François, Butler, Ellis Parker, Ovid, Hall, Tom
# SELECT (b.title) FROM books as b
INNER JOIN authors AS a ON b.author_id=a.id
WHERE a.name IN ('Wells, H. G. (Herbert George)', 'Rabelais, François', 'Butler, Ellis Parker', 'Ovid', 'Hall, Tom');

OR TRY ORDERING THEM!!!

# SELECT a.name, b.title FROM books as b
INNER JOIN authors AS a ON b.author_id=a.id
WHERE a.name IN ('Wells, H. G. (Herbert George)', 'Rabelais, François', 'Butler, Ellis Parker', 'Ovid', 'Hall, Tom')
ORDER BY a.name, b.title ASC;

---> Top 20 count of books grouped by author in descending order
gutenberg=# SELECT authors.name, count(books.*) FROM books
INNER JOIN authors ON authors.id = books.author_id
GROUP BY authors.name
ORDER BY count(books.*)
DESC
LIMIT 20;
