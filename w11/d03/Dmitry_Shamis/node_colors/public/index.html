<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Node Colors</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>
  <p>
    <input id="color-input" type="text">
    <input id="submit" type="submit">
  </p>
  <script>
    // do some stuff here
    $(function() {
      $("#submit").click(function() {
        postColor();
      });

      setInterval(function() {
        getColors();
      }, 1000)
    })

    function postColor() {
      var colorField = $('#color-input');
      var color = colorField.val();
      colorField.val('');
        // $('body').css('background-color', color);
        $.ajax({
          url: '/colors',
          method: 'post',
          dataType: 'json',
          data: {color: color},
          success: function(data) {
            // console.log(color);
            $('body').css('background-color', data);
          }
        })
      }

      function getColors() {
        $.ajax({
          url: '/colors',
          method: 'get',
          success: function(data) {
            var idx = Math.floor(Math.random() * data.length);
            $('body').css('background-color', data[idx])
          // console.log(data);
        }
      })
      }



      </script>
    </body>
    </html>
