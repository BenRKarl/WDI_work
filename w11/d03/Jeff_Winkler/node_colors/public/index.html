<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Node Colors</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>
  <p>
    <input id="color-input" type="text">
    <input id="submit" type="submit">
  </p>
  <script>
    $('#submit').click(function(){
      var input = $('#color-input').val();
      $('#color-input').val('');
      //console.log(input);
      $.ajax({
        method: 'POST',
        url: '/',
        dataType: 'json',
        data: {'color': input},
        success: function(data) {
          $('body').css("backgroundColor", input);
          //console.log(data);
          //setInterval(function(){
            // var color = data[Math.floor(Math.random()*data.length)];
           // $('body').css("backgroundColor", color);
          //}, 1000);
        }
      });
    });
    //$(function(){
    setInterval(function(){
      $.ajax({
        method: 'GET',
        url: '/colors',
        dataType: 'json',
        success: function(data) {
          //console.log(data);
          var color = data[Math.floor(Math.random()*data.length)];
          $('body').css("backgroundColor", color);
        }
      });
      }, 1000);
  //});
  </script>
</body>
</html>
