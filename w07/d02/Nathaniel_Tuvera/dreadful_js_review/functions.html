<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assert Template</title>
  <script>
    function assert(bool, desc){
      var text = document.createTextNode(desc);
      var li   = document.createElement('li');
      li.appendChild(text);
      li.className = bool ? "pass" : "fail";
      var results = document.getElementById('results');
      results.appendChild(li);
    }
  </script>
  <style>
    body {font-family: 'Courier new';}
    #results li.pass{color: chartreuse;}
    #results li.fail{color: red;}

  </style>
</head>
<body>
  <ul id='results'>
    <script>
      function andrewSmells(){
        return true;
      }
      assert(andrewSmells.name === 'andrewSmells', "the function's name attribute is andrewSmells");

      var aldricSmellsGood = function(){
        return true;
      }
      assert(typeof window.aldricSmellsGood === 'function', "its scope is window");  //window is global scope of browser
      assert(aldricSmellsGood.name === '', 'its name is aldricSmellsGood');

      var mattSmells = function theBest(){return "or does he?"};
      assert(mattSmells.name === 'theBest', "mattSmells is a reference to the function and we are calling the functions name attribute.");

      function cell(){
        assert(typeof prisoner === 'function', 'visible before the function declaration');
        function prisoner(){};
        assert(window.prisoner === undefined, 'the function is not scoped globally');
        escapedPrisoner = prisoner;  // without var escapedPrisoner becomes global
        assert(typeof window.escapedPrisoner === 'function', 'the prisoner has excacped the jail cell');
      }

      cell();

      function destroyGluten(){return this};
      assert(destroyGluten() === window, "this refers to the window in a globally scoped funtion");

      var healIntestine = destroyGluten;
      assert(healIntestine() === window, "what does 'this' refer to?");

      var primalHuman1 = {
        bePaleo: destroyGluten
      }
      assert(primalHuman1.bePaleo() === primalHuman1, "what does this refer to?"); // this referes to the objec that is calling the method, ie primalHuman1 is calling the method bePaleo ***this is really important ***

      var primalHuman2 = {
        bePaleo : primalHuman1.bePaleo
      }

      assert(primalHuman2.bePaleo() === primalHuman2, "primalHuman2 is calling the method");
    </script>

  </ul>
</body>
</html>
