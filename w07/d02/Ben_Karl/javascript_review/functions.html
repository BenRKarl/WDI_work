<!doctype html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <title>Assert Template</title>

  <script>
    function assert(bool, desc){
      var text = document.createTextNode(desc);
      var li = document.createElement('li');
      li.appendChild(text);
      li.className = bool ? "pass" : "fail";
      var results = document.getElementById('results');
      results.appendChild(li);
    }
  </script>

  <style>
    body {font-family: Courier new;}
    #results li.pass{color: chartreuse;}
    #results li.fail{color: red; text-decoration: line-through;}
  </style>

</head>
<body>

<ul id="results"></ul>
<script>
  function andrewSmells(){
    return true;
  }
  assert(andrewSmells.name === 'andrewSmells', 'the functions name attribute is andrewSmells');

  var aldricSmellsGood = function(){
    return true;
  }
  assert(typeof window.aldricSmellsGood === 'function', 'its scope is the window');
  assert(aldricSmellsGood.name === 'aldricSmellsGood', 'its name is aldricSmellsGood') //NO!!!

  var mattSmells = function theBest(){return 'or does he?'};
  assert(mattSmells.name === 'theBest', 'mattSmells is a reference to the function theBest.');

  function cell(){
    assert(typeof prisoner === 'function', 'this is visible before the function definition');
    function prisoner(){};
      assert(window.prisoner === undefined, "the function is not scoped globally");
      escapedPrisoner = prisoner;
      assert(typeof window.escapedPrisoner === 'function', 'the prisoner has escaped!!');
  }
cell();

  function destroyGluten(){ return this };
  assert(destroyGluten() === window, 'this refers to the scope of a globally defined function');

  var healIntestine = destroyGluten;
  assert(healIntestine() === window, 'what does this refer to?')

  var primalHuman1 = {
    bePaleo: destroyGluten
  }

  assert(primalHuman1.bePaleo() === primalHuman1, 'what does this refer to?');

  var primalHuman2 = {
    bePaleo: primalHuman1.bePaleo
  }

  assert(primalHuman2.bePaleo() === primalHuman2, 'what does this refer to?');

</script>

</body>
</html>
