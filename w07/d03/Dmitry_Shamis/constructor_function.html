<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assert Template</title>
  <script>
  function assert(bool, desc) {
    var text = document.createTextNode(desc);
    var li = document.createElement('li');
    li.appendChild(text);
    li.className = bool ? "pass" : "fail";
    var results = document.getElementById('results');
    results.appendChild(li);
  }
  </script>
  <style>
  body {
    font-family: Courier
  }

  #results li.pass {
    color: green;
  }

  #results li.fail {
    color: red;
    text-decoration: line-through;
  }
  </style>
</head>
<body>
  <ul id="results"></ul>

  <script>

  function Pizzaoilo(name) {
    this.name = name;
    this.pies = 0;
  }

  Pizzaoilo.prototype.makePies = function() {
    this.pies++;
  }

  var mario = new Pizzaoilo('mario');
  assert(typeof mario === 'object', "Mario is an object...");
  assert(mario.__proto__ === Pizzaoilo.prototype, "Mario's proto is the Pizzaoilo");
  mario.makePies();
  assert(mario.pies === 1, "The make pies function is working");
  assert(mario.makePies.name === '', "It's an anonymous function so the name is an empty string");

  var luigi = new Pizzaoilo('luigi');

  luigi.stealPie = function stealPie(Pizzaoilo) {
    Pizzaoilo.pies--;
    this.pies++;
  }

  luigi.stealPie(mario);
  assert(luigi.pies === 1 && mario.pies === 0, "Luigi is a clever thief");

  mario.stealPie = luigi.stealPie;
  mario.stealPie(luigi);
  assert(mario.pies === 1 && luigi.pies === 0, "Mario is a clever thief as well");

  Pizzaoilo.prototype.drinkEspresso = function () {
    this.name = this.name.toUpperCase();
  }

  mario.drinkEspresso();
  luigi.drinkEspresso();
  assert(mario.name === "MARIO" && luigi.name === "LUIGI", "All is fair in pizza and espresso")

  </script>
</body>
</html>
