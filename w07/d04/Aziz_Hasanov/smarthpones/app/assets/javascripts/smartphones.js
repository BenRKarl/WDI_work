console.log("hello, world");

// *** model *** //
function Smartphone(id, model, os) {
  this.id = id;
  this.model = model;
  this.os = os;
  this.el = undefined;        // ????????????????????????????????????????????
}
Smartphone.prototype.render = function() { // y render???
  var newLi = $("<li>").html(this.model);
  this.el = newLi;
  return this;                // ????????????????????????????????????????????
}

// *** collection *** //
function SmartphonesCollection() {
  this.models = {};           // ????????????????????????????????????????????
}

SmartphonesCollection.prototype.fetch = function() {
  var that = this;            // ????????????????????????????????????????????

  $.ajax({
    url: "/smartphones",
    dataType: "json",
    success: function(data) {
      $(data).each(function(index, elem) {
        var newSmartphone = new Smartphone(elem.id, elem.model, elem.os);
        that.models[elem.id] = newSmartphone;
      })
    }
  })
}

// $(function() {
  var smartphonesCollection = new SmartphonesCollection();
//   smartphonesCollection.fetch();

//   $.ajax({
//     url: "/smartphones",
//     dataType: "json",
//     success: function(data) {
//       $(data).each(function(index, elem) {
//         var newSmartphone = new Smartphone(elem.model, elem.os);
//         $(".smartphones").append(newSmartphone.render().el);
//       })
//     }
//   })
// })